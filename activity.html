<!DOCTYPE html>
<html>
  <head>
    <base target="_top">
    <meta charset="UTF-8" />
    <style>
      body {
        font-family: Arial, sans-serif;
        text-align: center;
        margin-top: 60px;
      }
      input, textarea {
        width: 300px;
        margin: 10px 0;
      }
      button {
        padding: 8px 16px;
      }
    </style>
  </head>
  <body>
    <h1>ğŸ’š í™œë™í•˜ê¸°</h1>

    <input type="text" id="cardTitle" placeholder="ì¹´ë“œ ì œëª©" value="ë‚˜ì˜ ì„±ê²©" /><br />
    <textarea id="cardContent" placeholder="ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”">ì¬ë°Œì–´ìš”</textarea><br />
    <button onclick="saveCard()">ì¹´ë“œ ì €ì¥</button>
    <p id="result" style="color: green;"></p>

    <script>
      function saveCard() {
        const student = {
          school: localStorage.getItem("school"),
          grade: localStorage.getItem("grade"),
          classNum: localStorage.getItem("class"),
          id: localStorage.getItem("id"),
          name: localStorage.getItem("name"),
          pw: localStorage.getItem("pw")
        };

        const data = {
          school: student.school,
          grade: student.grade,
          classNum: student.classNum,
          id: student.id,
          name: student.name,
          pw: student.pw,
          stage: "ì„±ê²©",
          title: document.getElementById("cardTitle").value,
          content: document.getElementById("cardContent").value
        };

        console.log("ğŸ” ì €ì¥ ìš”ì²­ ë°ì´í„°:", data);

        google.script.run
          .withSuccessHandler(function (msg) {
            document.getElementById("result").innerText = msg;
          })
          .saveCardData(data);
      }
    </script>
  </body>
</html>
